{% extends "reminders\base.html" %}

{% block content %}
<br>
{% if error_message %}<p><strong>{{ error_message }}</strong></p><br>{% endif %}
<h5 style="float:center;">Create a new reminder...</h5><br><br>
<form action="{% url 'reminders:create' %}" method="post">
    {% csrf_token %}
  <div class="form-group" style="width:80%;">
    <label for="reminder_text" style="float:left;">Name : </label>
    <input type="text" class="form-control" id="reminder_text" name="reminder_text" placeholder="Enter name of reminder" required>
  </div>
  <div class="form-group" style="width:80%;">
    <label for="topic_title"  style="float:left;">Topic : </label>
    <input type="text" class="form-control" id="topic_title" name="topic_title" placeholder="Enter topic">
  </div>
  <div class="form-group" style="width:80%;">
    <label for="description" style="float:left;">Description : </label>
    <textarea rows="3" class="form-control" id="description" name="description" placeholder="Enter description"></textarea>
  </div>
<br>
  <div class="form-group" style="width:80%;">
    <label for="start_date" style="float:left;">Start date : </label>
      <div class='input-group date' id='start_date'>
          <input type='text' class="form-control" name="start_date" required/>
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-calendar"></span>
          </span>
      </div>
  </div>
  <div class="form-group" style="width:80%;">
      <label for="end_date" style="float:left;">End date : </label>
      <div class='input-group date' id='end_date'>
          <input type='text' class="form-control" name="end_date" required/>
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-calendar"></span>
          </span>
      </div>
  </div>

<br><br>

  <input class="btn btn-primary" style="float:right" type="submit" value="Create">
</form>
<script type="text/javascript">
    $('#start_date').datetimepicker({
        format:'YYYY-MM-DD HH:MM',
        minDate: getFormattedDate(new Date())
    });
    $('#end_date').datetimepicker({
        format:'YYYY-MM-DD HH:MM',
        minDate: getFormattedDate(new Date())
    });
    function getFormattedDate(date) {
         var day = date.getDate();
         var month = date.getMonth() + 1;
         var year = date.getFullYear().toString();
         return year + '-' + month + '-' + day + ' 00:00';
     }
</script>
{% endblock content %}
